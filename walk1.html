<!DOCTYPE HTML>
<!--
	Ion by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Walkthrough Guide</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<!--[if lte IE 8]><script src="js/html5shiv.js"></script><![endif]-->
		<script src="js/jquery.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/skel-layers.min.js"></script>
		<script src="js/init.js"></script>
		<noscript>
			<link rel="stylesheet" href="css/skel.css" />
			<link rel="stylesheet" href="css/style.css" />
			<link rel="stylesheet" href="css/style-xlarge.css" />
		</noscript>
	</head>
	<body id="top">

		<!-- Header -->
			<header id="header" class="skel-layers-fixed">
				<nav id="nav">
					<ul>
						<li><a href="index.html">Home</a></li>
						<li><a href="no-sidebar.html">Getting Started</a></li>
						<li><a href="walk1.html">Walkthrough 1</a></li>
						<li><a href="walk2.html">Walkthrough 2</a></li>
						<li><a href="extensions.html">Extensions</a></li>
					</ul>
				</nav>
			</header>

		<!-- Main -->
			<section id="main" class="wrapper style1">
				<header class="major">
					<h2>Walkthrough - Analyze an Image</h2>
					<p>First POST the image to the API, then GET to get your result. <br/>Image being used for this example:<br/><br/>
					<img src="https://www.wassonnursery.com/wp-content/uploads/2016/07/FruitTrees.jpg" style="width:25%;"></p>
				</header>
				<div class="container">
					<div class="12u">
						<script type="text/javascript">
    $(function() {
        var params = {
            // Request parameters
            "visualFeatures": "Categories,Description,Color",
            "details": "",
            "language": "en",
        };

        $.ajax({
            // NOTE: You must use the same location in your REST call as you used to obtain your subscription keys.
            //   For example, if you obtained your subscription keys from westus, replace "westcentralus" in the 
            //   URL below with "westus".
            url: "https://westcentralus.api.cognitive.microsoft.com/vision/v1.0/analyze?" + $.param(params),

            beforeSend: function(xhrObj){
                // Request headers
                xhrObj.setRequestHeader("Content-Type","application/json");

                // NOTE: Replace the "Ocp-Apim-Subscription-Key" value with a valid subscription key.
                xhrObj.setRequestHeader("Ocp-Apim-Subscription-Key", "d14d62028f1a4db6b359af25c549ebd5");
            },

            type: "POST",

            // Request body
            data: '{"url": "https://www.wassonnursery.com/wp-content/uploads/2016/07/FruitTrees.jpg"}',
        })

        .done(function(data) {
            // Show formatted JSON on webpage.
            $("#responseTextArea").val(JSON.stringify(data, null, 2));
        })

        .fail(function(jqXHR, textStatus, errorThrown) {
            // Display error message.
            var errorString = (errorThrown === "") ? "Error. " : errorThrown + " (" + jqXHR.status + "): ";
            errorString += (jqXHR.responseText === "") ? "" : jQuery.parseJSON(jqXHR.responseText).message;
            alert(errorString);
        });
    });
</script>
<h2>How to create a POST request</h2>
<p>1. Request URL - https://[location].api.cognitive.microsoft.com/vision/v1.0/analyze[?visualFeatures][&details][&language]</p>
<p>2. Request Parameters
<ul>
<li>Content-Type (optional): Type of media being sent - Ex: application/json</li>
<li>Ocp-Apim-Subscription-Key: (Your unique subscription key)</li>
</ul></p>
<p>3. Request Headers
<ul>
<li>visualFeatures (optional): Which visual feature types to return<br/> <img src="images/visual-features.jpg"></li>
<li>details (optional): Which domain-specific details to return. Currently the options are celebrities and/or landmarks</li>
<li>language (optional): Which language to return. Currently the options are en for English or zh for Chinese.</li>
</ul>
</p>
<p>4. Request Body - URL or raw image binary to be analyzed by the API<br/>
Ex: {"url": "https://www.wassonnursery.com/wp-content/uploads/2016/07/FruitTrees.jpg"}</p>
	<h2>Example of a complete POST request</h2>
	<script async src="http://jsfiddle.net/sanatauqir/ub87Ldfw/3/embed/js/"></script>
	<p>	REST response:</p>
<textarea id="responseTextArea" class="UIInput" cols="120" rows="32"></textarea>
					</div>
				</div>
			</section>

			<!-- Footer -->
			<footer id="footer">
				<div class="container">
					<ul class="copyright">
						<li>&copy; 2017 Sana Tauqir. All rights reserved.</li>
						<li>Design: <a href="http://templated.co">TEMPLATED</a></li>
					</ul>
				</div>
			</footer>

	</body>
</html>